=================================================================</br>
epoll_create</br>
=================================================================</br>

SYSCALL_DEFINE1(epoll_create, int, size)
{
	......
	return sys_epoll_create1(0);
}
epoll_create主要调用了内核系统调用函数sys_epoll_create1.</br>
而sys_epoll_create1的函数定义原型为SYSCALL_DEFINE1(epoll_create1, int, flags).</br>

SYSCALL_DEFINE1(epoll_create1, int, flags)
{
	传递进来的flags为0, 为epoll_create传递的size大小没有起作用</br>
	int error;
	struct eventpoll *ep = NULL;

	if (flags & ~EPOLL_CLOEXEC)
		return -EINVAL;
	/*
	 * Create the internal data structure ("struct eventpoll").
	 */
	error = ep_alloc(&ep);
	if (error < 0)
		return error;
	/*
	 * Creates all the items needed to setup an eventpoll file. That is,
	 * a file structure and a free file descriptor.
	 */
	error = anon_inode_getfd("[eventpoll]", &eventpoll_fops, ep,
				 flags & O_CLOEXEC);
	if (error < 0)
		ep_free(ep);

	return error;
}



